<!-- h1 と line-length はスルーさせる -->
<!-- markdownlint-disable MD013 MD025 -->

# 10/01

## Codex

OpenAI が提供している AI エージェント

Codex CLI や IDE の拡張機能として利用することができる

自動コードレビューを利用できたり、スマホの ChatGPT アプリ経由でコーディングしたりできる

Claude Code はローカルベースだが Codex はクラウドベース

Claude Code はローカルのコードベースをメモリに取り込んで逐次的に思考するが、Codex はクラウド上での並列実行を行うように設計されている

説明を読んだりしている段階では私用なら Codex、業務なら Claude Code かなあという印象

ChatGPT 課金して Codex 試してみるか

# 10/02

## Kiro

Amazon が開発した AI エージェント型 IDE

spec driven development （仕様駆動開発）というアプローチを取ったツール

spec モードで仕様を記述すると Kiro が要件定義を生成する

生成されたものに対してフィードバックしつつ `move to design` で設計書を生成

更にフィードバック、ブラッシュアップして `move to implementation` でタスクリストを生成

`Start Task` でコードを生成

Amazon Q Developer は Kiro よりもエンジニアが委託するのに利用できそう

Q Developer は壁打ち相手として伴走させながら利用するイメージかな

# 10/03

## みらい丸見え政治資金サービス

チームみらいのみらい丸見え政治資金というサービスを見た
<https://marumie.team-mir.ai/o/team-mirai>

GitHub でも公開されていた
<https://github.com/team-mirai-volunteer/marumie>

ローカル環境が動かせるらしく試してみた

以下が必要だった

- `brew install pnpm orbstack`
- `cp .env.example .env`
- `cd admin && cp .env.example .env`
- `cd webapp && cp .env.example .env`
- 各ディレクトリの .env の DATABAE_URL のポートを 54332 に変更
- `pnpm run supabase:start`
- `pnpm run db:generate`
- `pnpm run dev:setup`
- `pnpm run dev`
- .env の BASIC_AUTH_SECRET を設定した

起動できた。すげ〜

## pnpm

みらい丸見え政治資金サービスの立ち上げには pnpm が必要だった

pnpm そういえば職場でも利用され始めている

pnpm is 何

- Performant NPM を略したもの
- JavaScript のパッケージ管理ツール
- 次のような特徴がある
  - npm と違いパッケージを複数プロジェクトで共有することでストレージ容量を節約できる
  - パッケージのインストールプロセスが効率化されており高速
  - node_modules が厳格で package.json に記載されているもののみが配置される

brew で入れられるようなので入れておいた

# 10/06

## GitHub PR マージ時の挙動

GitHub の PR マージ時の挙動を調べた

ちなみに以下の条件の場合を指す

- PR のレビューを必須にしている
- 最新コミットへの承認が必要にしている

まず PR 作成者は PR を承認できない（のでマージできない）

この PR に別のユーザー（ユーザーα）がコミットを追加して、それが PR の最新コミットの場合、ユーザーαの承認ではマージできない

承認（approve）はできるのでややこしいが、マージボタンは押せない

ユーザーα のあとに PR 作成者がコミットを追加すると、ユーザーαの承認でもマージできるようになる

レビュー後のコミット追加による不正や、レビューされていないコミットがマージされることを防ぐことを実現する

# 10/07

## go.work について

go.work が push 禁止ファイルになっていた。

何故か気になって聞いてみたところ以下とのことだった。

- go.work は go1.18 で導入されたマルチモジュール開発を支援する機能
    - Workspace mode を利用することで go.mod の replace を利用せずに複数のモジュールを開発できる
    - モノレポにおいて Workspace mode はメリットがあるがそのために go.work をコミットすることに関しては議論されている
- 公式リファレンスでは go.work はコミットすべきではないとされている
    - <https://go.dev/ref/mod#go-work-file>
- 挙げられている理由は以下
    - 開発者の go.work を上書きする可能性がある
    - CI で依存関係を間違ったバージョンでテストしてしまうことがある
- ベターな運用方法としては .gitignore への追加、Workspace mode の利用は開発の際の限定的な利用等が挙げられる

使い所が悩ましそうだな
